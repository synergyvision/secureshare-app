<ion-view view-title="{{'suveys.title' | translate}}">
    <ion-content ng-controller="surveysController">
        <div ng-init="getSurvey()">

                <div class="timeline-wrapper" ng-if="spinner">
                        <div class="timeline-item">
                                <div class="animated-background">
                                    <div class="background-masker header-top"></div>
                                    <div class="background-masker header-left"></div>
                                    <div class="background-masker header-right"></div>
                                    <div class="background-masker header-bottom"></div>
                                    <div class="background-masker subheader-left"></div>
                                    <div class="background-masker subheader-right"></div>
                                    <div class="background-masker subheader-bottom"></div>
                                    <div class="background-masker content-top"></div>
                                    <div class="background-masker content-first-end"></div>
                                    <div class="background-masker content-second-line"></div>
                                    <div class="background-masker content-second-end"></div>
                                    <div class="background-masker content-third-line"></div>
                                    <div class="background-masker content-third-end"></div>
                                </div>
                            </div>
                </div>
            <div  class="list card" ng-if="survey.expired == false  && survey.answered == false">
                <div class="item">
                    <div class="row">
                        <div class="col col-75">
                            <h2>{{survey.title}}</h2>
                            <p>{{'suveys.body' | translate}} {{survey.user}}</p>
                        </div>    
                        <div class="col col-25 col-offset-10">
                            <button class="button button-small icon icon ion-trash-b button-assertive" ng-if="survey.userId == uid" ng-click="deleteSurvey()" class="button button-assertive">
                            </button>
                        </div>    
                    </div>    
                </div> 
                <div ng-repeat="question in survey.questions">
                    <div class="item item-divider" >
                            {{question.question}}
                    </div>
                    <ion-list style="float: left; width: 100%;">
                            <ion-radio ng-repeat="answer in question.answers" ng-click="getId(question.questionId,answer)">
                                {{answer.content}}
                            </ion-radio>
                    </ion-list>
                </div>       
                <div class="item">
                    <a class="item calm" id="fill" ng-click="fillSurvey()">
                        {{'suveys.finish' | translate}}
                    </a>
                </div>
            </div>        
            <div class="card" ng-if="survey.answered == true && survey.expired == false">
                <div class="item item-text-wrap">
                    <div class="row">
                        <div class="col col-75">
                            {{'suveys.answered' | translate}}
                        </div>   
                        <div class="col col-25 col-offset-10">
                            <button class="button button-small icon icon ion-trash-b button-assertive" ng-if="survey.userId == uid"  ng-click="deleteSurvey()" class="button button-positive">
                            </button>
                        </div>    
                    </div>    
                </div>
            </div> 
            <div  class="list card" ng-if="survey.expired == true">
                    <div class="item item-divider" >
                        <div class="row">
                            <div class="col col-75">
                                {{'suveys.expired' | translate}}
                            </div>
                        </div>    
                    </div>
                <div class="item">
                    <div class="row">
                        <div class="col col-75" style="padding: 0px">
                                <h2>{{survey.title}}</h2>
                                <p>{{'suveys.body' | translate}} {{survey.user}}</p>
                        </div>   
                        <div class="col col-25 col-offset-10">
                                <button class="button button-small icon icon ion-trash-b button-assertive" ng-if="survey.userId == uid"  ng-click="deleteSurvey()" class="button button-positive">
                                </button>
                        </div>
                    </div>    
                </div> 
                <div ng-repeat="question in survey.questions">
                    <div class="item item-divider" >
                            {{question.question}}
                    </div>
                    <ion-list style="float: left; width: 100%;" ng-repeat="answer in question.answers">
                            <div class="item" id="answers"><b>{{answer.content}}</b> {{answer.votes}}</div>
                    </ion-list>
                </div>
            </div> 
        </div>
    </ion-content>
</ion-view>
  